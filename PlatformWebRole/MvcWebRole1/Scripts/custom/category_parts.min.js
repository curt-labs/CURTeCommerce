var ids=[],view_more_trigger=0,page=1,perpage=10,endless_load=!1,generateHTML,getMore,loadInstallSheet,loadImages,imagesort,parts;$(function(){view_more_trigger=$("#part_container").height()-1e3,$(window).scroll(function(){var n=$(window).scrollTop();n>view_more_trigger&&endless_load&&(page=page+1,getMore(page,perpage))}),$(".view_more").live("click",function(n){n.preventDefault(),page=page+1,getMore(page,perpage)}),getMore=function(n,t){var i,r;i=$("#catID").val(),r={page:n,perpage:t,catID:i},$.get("/Categories/GetMore",r,function(n){n.length>0?$.each(n,function(n,t){if(ids.indexOf(t.partID)===-1){ids.push(t.partID);var i=generateHTML(t);$(".part:last").after(i),$(".part_groups").height($(".part_content").outerHeight()),view_more_trigger=$("#part_container").height()-1e3}}):(endless_load=!1,$(".view_more").remove())},"json")},generateHTML=function(n){var i,t;return i=$(".part").get().length,t="",t+='<div class="part" id="'+n.partID+'">',t+="<h4>"+n.shortDesc+"<\/h4>",t+='<div class="left_col">',t+="<p>Part #"+n.partID+"<\/p>",t+='<div class="image_array">',t+=loadImages(n,i),t+="<\/div>",t+="<\/div>",t+='<div class="mid_col">',t+="<ul>",$.each(n.content,function(n,i){i.key.toUpperCase()!=="INSTALLATIONSHEET"&&i.key.toUpperCase()!=="INSTALLVIDEO"&&(t+="<li>"+i.value+"<\/li>")}),t+="<\/ul>",t+="<\/div>",t+='<div class="right_col">',t+='<span class="price">'+n.listPrice+"<\/span>",t+='<a href="/Part/'+n.partID+'" class="details" title="View Details">View Details<\/a>',t+='<a href="/Cart/Add/'+n.partID+'" data-id="'+n.partID+'" class="add_cart" title="Add to Cart">',t+='<img src="/Content/img/cart.png" alt="Add to Cart" />',t+="<span>Add to Cart<\/span>",t+="<\/a>",t+=loadInstallSheet(n),t+="<\/div>",t+='<div class="clearfix"><\/div>',t+="<\/div><\/div>"},loadInstallSheet=function(n){var t;return t="",$.each(n.content,function(n,i){i.key.toUpperCase()==="INSTALLATIONSHEET"&&t.length===0&&(t+='<a href="'+i.value+'" title="Download Installation Instructions" class="install">',t+='<img src="/Content/img/pdf.png" alt="Download Installation Instructions" />Installation Instructions<\/a>')}),t},loadImages=function(n,t){var r,u=[],s=[],e=[],f,o,i;if(n.images.length>0)for(i in n.images)n.images[i].size=="Tall"&&u.push(n.images[i]),n.images[i].size=="Grande"&&s.push(n.images[i]),n.images[i].size=="Venti"&&e.push(n.images[i]),n.images[i].size=="Grande"&&n.images[i].sort=="a"&&(f=n.images[i].path),n.images[i].size=="Venti"&&n.images[i].sort=="a"&&(o=n.images[i].path);return u.length>0&&(u.sort(imagesort),s.sort(imagesort),e.sort(imagesort)),r="",f==""&&(f="/Content/img/noimage.jpg",o="/Content/img/noimage.jpg"),r+='<a class="main" href="'+o+'" rel="Shadowbox[parts'+t+']" target="_blank" title="Click to enlarge">',r+='<img src="'+f+'" onerror="$(this).parent().remove()" alt="Click to enlarge" />',r+="<\/a>",$(u).each(function(n,i){n>0&&(r+='<a class="sub" href="'+e[n].path+'" rel="Shadowbox[parts'+t+']" title="Click to enlarge">',r+='<img src="'+i.path+'" onerror="$(this).parent().remove()" alt="Click to enlarge" />',r+="<\/a>")}),r},parts=$(".part").get(),$.each(parts,function(){var n=$(this).attr("id");ids.push(n)})}),imagesort=function(n,t){return n.sort.charCodeAt(0)-t.sort.charCodeAt(0)};
//@ sourceMappingURL=category_parts.min.js.map