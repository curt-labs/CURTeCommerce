@{
    ViewBag.defaultcss = new List<string> { "/Content/css/category.css" };
    ViewBag.defaultjs = new List<string> { "/Scripts/custom/category_parts.js" };
    EcommercePlatform.Models.APICategory cat = ViewBag.category ?? new EcommercePlatform.Models.APICategory();
    cat.catTitle = cat.catTitle.Trim();

    Dictionary<string, List<EcommercePlatform.Models.APIPart>> parts = ViewBag.parts ?? new Dictionary<string, List<EcommercePlatform.Models.APIPart>>();
    ViewBag.partCount = parts.Count;

    int more_count = ViewBag.more_count ?? 0;
    int page = ViewBag.page ?? 1;
    int per_page = ViewBag.per_page ?? 10;

    ViewBag.Title = cat.catTitle + " Parts";
    Layout = "~/Views/Shared/_Layout.cshtml";
    EcommercePlatform.Models.Settings settings = ViewBag.settings ?? new EcommercePlatform.Models.Settings();
}
<input type="hidden" id="catID" value="@cat.catID" />

@{Html.RenderPartial("_PartListing");}

@if (more_count > 0) {
    <a href="/Category/Parts/@cat.catID/@(page + 1)/@(per_page)" title="View More" class="view_more">
        View More</a>
}